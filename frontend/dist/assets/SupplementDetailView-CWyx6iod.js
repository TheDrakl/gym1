const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CartMenu-C1l6VkNd.js","assets/index-t-_dAoed.js","assets/index-DKY4WAlI.css","assets/NotFound-DjUMJGXn.js"])))=>i.map(i=>d[i]);
import{r as i,j as F,E as L,G as d,s as O,o,c as a,d as x,a as w,b as e,H as R,t as p,g as u,F as k,k as S,x as G,y as Q,I as H,u as C,m as I,n as E,l as J}from"./index-t-_dAoed.js";import{a as U}from"./axios-CpLpn672.js";const K={class:"min-h-[120vh] bg-black relative bg-cover bg-bottom font-montserrat text-white flex flex-col items-center"},W={key:0,class:"mx-4 lg:mx-10 flex flex-col w-full"},X={class:"hidden lg:flex items-center mb-4 ml-4"},Y={class:"line-clamp-1"},Z={class:"mt-6 lg:mt-20 grid grid-cols-1 lg:grid-cols-2 w-full"},ee={class:"flex justify-center mb-6 lg:mb-0"},te=["src"],se={class:"mt-4 lg:mt-0 flex flex-col items-center lg:items-start bg-blackBg p-6 lg:p-12 pr-2 w-full lg:max-w-[70%]"},le={class:"text-center lg:text-left"},oe={class:"text-2xl lg:text-4xl lg:break-words lg:max-w-sm"},ae={key:0,class:"mt-2 bg-green-400 py-1 px-4 w-[10vh] h-[6vh] text-center rounded-lg text-milkBlue text-sm lg:text-base"},ne={key:1,class:"mt-2 bg-red-400 p-1 w-[10vh] h-[6vh] text-center rounded-lg text-gray-50 text-sm lg:text-base"},re={class:"mt-4 flex-col flex w-full"},ie={class:"flex items-center mb-2"},ce={name:"",id:"flavour",class:"border border-gray-400 rounded p-1 w-2/3 text-black ml-2"},ue={class:"flex items-center mb-2"},de={name:"",id:"size",class:"border border-gray-400 rounded p-1 w-2/3 text-black ml-2"},pe={class:"flex items-center mb-2"},me={class:"mt-4"},ge={class:"text-lg lg:text-xl text-white"},ve={class:"flex flex-col lg:flex-row lg:justify-between mt-4 text-lg lg:text-xl space-y-2 lg:space-y-0 lg:space-x-4"},xe=["disabled"],fe=["disabled"],_e={key:1},we={__name:"SupplementDetailView",setup(be){const N=I(()=>E(()=>import("./CartMenu-C1l6VkNd.js"),__vite__mapDeps([0,1,2]))),z=I(()=>E(()=>import("./NotFound-DjUMJGXn.js"),__vite__mapDeps([3,1,2]))),B=L(),D=R(),s=i({}),_=i([]),b=i([]),m=i(!1),f=i(1),g=i(!1),c=i(!1),P=()=>{D.push("/shop")},T=()=>{m.value=!m.value},V=()=>{m.value=!1},q=()=>{s.value.stock>0?c.value=!0:c.value=!1},A=r=>{const t=JSON.parse(localStorage.getItem("cart"))||[],v=t.find(l=>l.id===r.id);H({type:"success",title:"Succesfully added to cart",max:1,duration:1e3});let n=parseInt(f.value,10);(isNaN(n)||n<1)&&(n=1),v?v.quantity+=n:t.push({...r,quantity:n}),localStorage.setItem("cart",JSON.stringify(t))};F(async()=>{try{const r=B.params.pk,t=await U.get(`supplements/${r}`);s.value=t.data,_.value=s.value.flavour,b.value=s.value.size,q()}catch(r){r.response.status===404&&(g.value=!0)}});const h=d(()=>s.value.name?`${s.value.name} - Product Details`:"Loading..."),y=d(()=>s.value.name?`Get all the details about ${s.value.name}, including benefits, ingredients, and usage instructions.`:""),$=d(()=>s.value.image||"https://default-image-url.com/default.jpg"),j=d(()=>s.value.price||"0.00"),M=d(()=>s.value.id?`http://localhost:5173/shop/supplement/${s.value.id}`:"");return O({title:h,meta:[{name:"description",content:y},{property:"og:title",content:h},{property:"og:description",content:y},{property:"og:image",content:$},{property:"og:url",content:M},{property:"og:type",content:"product"},{property:"product:price:amount",content:j},{property:"product:price:currency",content:"GBP"}]}),(r,t)=>{const v=w("navbar-white"),n=w("font-awesome-icon");return o(),a("div",K,[x(v,{class:"relative z-20"}),g.value?u("",!0):(o(),a("div",W,[e("div",X,[e("h2",{class:"text-orange-500 font-montserrat text-xl cursor-pointer",onClick:P}," Shop "),x(n,{icon:["fa","angle-right"],class:"text-xl text-gray-400 mx-2"}),e("h2",Y,p(s.value.name),1)]),e("div",Z,[e("div",ee,[e("img",{src:s.value.image,alt:"supplement image",class:"w-[80%] max-w-[349px] h-auto",loading:"lazy",decoding:"async"},null,8,te)]),e("div",se,[e("div",le,[e("h2",oe,p(s.value.name),1),c.value?(o(),a("p",ae," In stock ")):u("",!0),c.value?u("",!0):(o(),a("p",ne," Not in stock "))]),e("div",re,[e("div",ie,[t[4]||(t[4]=e("label",{for:"flavour",class:"w-1/3 lg:w-1/5 text-xl lg:text-2xl"},"Flavour",-1)),e("select",ce,[t[3]||(t[3]=e("option",{value:"",disabled:""},"Select a flavour",-1)),(o(!0),a(k,null,S(_.value,l=>(o(),a("option",{value:"s",key:l.id},p(l.name),1))),128))])]),e("div",ue,[t[6]||(t[6]=e("label",{for:"size",class:"w-1/3 lg:w-1/5 text-xl lg:text-2xl"},"Size",-1)),e("select",de,[t[5]||(t[5]=e("option",{value:"",disabled:""},"Select a size",-1)),(o(!0),a(k,null,S(b.value,l=>(o(),a("option",{value:"s",key:l},p(l.name),1))),128))])]),e("div",pe,[t[7]||(t[7]=e("label",{for:"qty",class:"w-1/3 lg:w-1/5 text-xl lg:text-2xl"},"Quantity",-1)),G(e("input",{type:"number",id:"qty",class:"border border-gray-400 rounded p-1 w-2/3 text-black ml-2",min:"1","onUpdate:modelValue":t[0]||(t[0]=l=>f.value=l)},null,512),[[Q,f.value]])])]),e("div",me,[e("p",ge,"Â£"+p(s.value.price),1)]),e("div",ve,[e("button",{class:"bg-orange-500 hover:bg-orange-600 p-3 rounded-lg w-full lg:w-auto",disabled:!c.value,"aria-label":"Quick buy"}," Quick buy ",8,xe),e("button",{class:"bg-purple-500 hover:bg-purple-600 p-3 rounded-lg w-full lg:w-auto",onClick:t[1]||(t[1]=l=>A(s.value)),disabled:!c.value,"aria-label":"Add to cart"}," Add to cart ",8,fe)])])])])),g.value?(o(),a("div",_e,[x(C(z))])):u("",!0),g.value?u("",!0):(o(),a("div",{key:2,class:"fixed bottom-6 left-6 w-24 h-24 md:w-36 md:h-36 bg-white flex items-center justify-center rounded-full border-[6px] border-purple-500 shadow-2xl cursor-pointer transition-opacity duration-500",onClick:T},[x(n,{icon:["fa","cart-shopping"],class:"w-12 md:w-20 h-auto text-black"})])),m.value?(o(),J(C(N),{key:3,onClose:t[2]||(t[2]=l=>V())})):u("",!0)])}}};export{we as default};
